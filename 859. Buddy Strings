Time: O(n)  Space: O(1)

class Solution {
public:
    bool buddyStrings(string s, string g) {
        int n1=size(s),n2=size(g);
        if(n1!=n2)
            return false;
        if(s==g){
            vector<int> v(26);
            for(int i=0;i<n1;i++)
                v[s[i]-'a']++;
            for(auto& x: v)
                if(x>1)
                    return true;
            return false;
        }else{
            int fr,sc;
            fr=sc=-1;
            for(int i=0;i<n1;i++){
                if(s[i]!=g[i]){
                    if(fr==-1)
                        fr=i;
                    else if(sc==-1)
                        sc=i;
                    else
                        return false;
                }
            }
            if(sc!= -1 and s[fr]==g[sc] and s[sc]==g[fr])
                return true;
            return false;
        }
    }
};
